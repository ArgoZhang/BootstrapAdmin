@model HeaderBarModel
<!--header start-->
<header class="header white-bg">
    <a href="#" data-toggle="dropdown" class="sidebar-toggle-box dropdown-toggle">
        <i class="fa fa-bars"></i>
        <!--logo start-->
        <span>@Model.Title</span>
    </a>
    <!--logo end-->
    @if (Model.Menus.Count() > 0 && Model.ShowMenu)
    {
        <ul class="dropdown-menu menu">
            <div class="arrow-up"></div>
            <li>
                <div class="menu-submenu">
                    @foreach (var menu in Model.Menus)
                    {
                        @Html.Partial("SubMenu", menu)
                    }
                </div>
            </li>
        </ul>
    }
    @if (!Model.ShowMenu)
    {
    <!--  notification start -->
        <ul class="notify-row">
            <!-- settings start -->
            <li class="dropdown">
                <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                    <i class="fa fa-tasks"></i>
                    <span class="badge bg-success">5</span>
                </a>
                <ul class="dropdown-menu tasks-bar">
                    <div class="notify-arrow notify-arrow-green"></div>
                    <li>
                        <p>您有 5 个待处理的任务</p>
                    </li>
                    <li>
                        <a href="#">
                            <div>
                                <div class="desc">任务1</div>
                                <div class="percent">40%</div>
                            </div>
                            <div class="progress progress-striped">
                                <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%">
                                    <span class="sr-only">40% Complete (success)</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <div>
                                <div class="desc">任务2</div>
                                <div class="percent">60%</div>
                            </div>
                            <div class="progress progress-striped">
                                <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
                                    <span class="sr-only">60% Complete (warning)</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <div>
                                <div class="desc">任务3</div>
                                <div class="percent">87%</div>
                            </div>
                            <div class="progress progress-striped">
                                <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 87%">
                                    <span class="sr-only">87% Complete</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <div>
                                <div class="desc">任务4</div>
                                <div class="percent">33%</div>
                            </div>
                            <div class="progress progress-striped">
                                <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 33%">
                                    <span class="sr-only">33% Complete (danger)</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <div>
                                <div class="desc">任务5</div>
                                <div class="percent">45%</div>
                            </div>
                            <div class="progress progress-striped active">
                                <div class="progress-bar" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
                                    <span class="sr-only">45% Complete</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#">查看所有任务</a>
                    </li>
                </ul>
            </li>
            <!-- settings end -->
            <!-- message dropdown start-->
    @if (Model.Messages.Count() > 0)
   {
       <li id="header_inbox_bar" class="dropdown">
           <a data-toggle="dropdown" class="dropdown-toggle" href="#">
               <i class="fa fa-envelope-o"></i>
               <span class="badge bg-important">@Model.Messages.Count()</span>
           </a>
           <ul class="dropdown-menu inbox">
               <div class="notify-arrow notify-arrow-red"></div>
               <li>
                   <p>您有 @Model.Messages.Count() 个未读的消息</p>
               </li>
               @foreach(var mess in Model.Messages.Take(6))
               {
                   <li>
                       <a href="~/Admin/Messages/@mess.ID">
                           <span class="photo"><img alt="avatar" src="../content/images/logo6.jpg"></span>
                           <span class="subject">
                               <span class="from">@mess.From</span>
                               <span class="time">@mess.Period</span>
                           </span>
                           <span class="message">@mess.Title</span>
                       </a>
                   </li>
               }
                   <li>
                       <a href="~/Admin/Messages">查看所有消息</a>
                   </li>
          </ul>
       </li>
    }
            <!-- message dropdown end -->
            <!-- notification dropdown start-->
            @if (Model.NotifiCount > 0)
            {
                <li id="header_notification_bar" class="dropdown">
                    <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                        <i class="fa fa-bell-o"></i>
                        <span class="badge bg-warning">@Model.NotifiCount</span>
                    </a>
                    <ul class="dropdown-menu notification">
                        <div class="notify-arrow notify-arrow-yellow"></div>
                        <li>
                            <p>您有 @Model.NotifiCount 条新通知</p>
                        </li>
                        @foreach (var noti in Model.Notifications)
                        {
                            <li>
                                <a href="~/Admin/Notifications?id=@noti.ID&category=@noti.Category">
                                    @if (noti.Category == "0")
                                    {
                                        <span class="label label-success"><i class="fa fa-plus"></i></span><div>@noti.Content</div><span class="small italic">@noti.Period</span>
                                    }
                                    else if (noti.Category == "1")
                                    {
                                        <span class="label label-warning"><i class="fa fa-bell"></i></span><div>@noti.Content</div><span class="small italic">@noti.Period</span>
                                    }
                                    else
                                    {
                                        <span class="label label-danger"><i class="fa fa-bolt"></i></span><div>@noti.Content</div><span class="small italic">@noti.Period</span>
                                    }
                                </a>
                            </li>
                        }
                        <li>
                            <a href="~/Admin/Notifications">查看所有通知</a>
                        </li>
                    </ul>
                </li>
            }
            <!-- notification dropdown end -->
        </ul>
    <!--  notification end -->
    }
    <!--search & user info start-->
    <ul class="pull-right top-menu">
        <li>
            <input type="text" class="form-control search" placeholder="搜索">
        </li>
        <!-- user login dropdown start-->
        <li class="dropdown">
            <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                <img alt="" src="~/content/images/logo6.jpg">
                <span class="username">@Model.DisplayName</span>
                <b class="caret"></b>
                <input id="userId" type="text" class="hide" value="@Model.UserID" />
            </a>
            <ul class="dropdown-menu logout">
                <div class="arrow-up"></div>
                <li><a href="~/Admin/Infos"><i class=" fa fa-suitcase"></i>个人中心</a></li>
                <li><a href="~/Admin/Index"><i class="fa fa-cog"></i>设置</a></li>
                <li><a href="~/Admin/Notifications"><i class="fa fa-bell-o"></i>通知<span class="badge bg-success">@Model.NotifiCount</span></a></li>
                <li><a href="~/Home/Logout"><i class="fa fa-key"></i>注销</a></li>
            </ul>
        </li>
        <!-- user login dropdown end -->
    </ul>
    <!--search & user info end-->
    <!--breadcrumbs start -->
    <ul class="breadcrumb">
        <li><a href="@Url.Content(Model.HomeUrl)"><i class="fa fa-home"></i>首页</a></li>
        <li></li>
    </ul>
    <!--breadcrumbs end -->
    <input id="footer" type="text" class="hide" value="@Model.Footer" />
</header>
<!--header end-->
