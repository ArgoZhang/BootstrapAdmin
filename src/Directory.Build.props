<Project>

  <Import Project="..\Directory.Build.props" />

  <PropertyGroup>
    <PackageProjectUrl>https://gitee.com/LongbowGroup/$(MsBuildProjectName)</PackageProjectUrl>
    <RepositoryUrl>https://gitee.com/LongbowGroup/$(MsBuildProjectName).git</RepositoryUrl>
    <RepositoryType>git</RepositoryType>
    <Nullable>enable</Nullable>
    <DocumentationFile>$(TargetDir)$(MSBuildProjectName).xml</DocumentationFile>
  </PropertyGroup>

  <Target Condition=" $(IsWebProject) == true " Name="PostPublish" AfterTargets="Publish">
    <Message Text="Publish lic file -> $(PublishDir)" Importance="high" />
    <Copy Condition="'$(OS)' == 'Windows_NT'" DestinationFolder="$(PublishDir)" SourceFiles="$(MSBuildThisFileDirectory)admin\keys\Longbow.lic" SkipUnchangedFiles="true" />
    <Copy Condition="'$(OS)' == 'UNIX'" DestinationFolder="$(PublishDir)" SourceFiles="$(MSBuildThisFileDirectory)admin/keys/Longbow.lic" SkipUnchangedFiles="true" />
    <Message Text="Publish db file -> $(PublishDir)" Importance="high" />
    <Copy Condition="'$(OS)' == 'Windows_NT'" DestinationFolder="$(PublishDir)" SourceFiles="$(MSBuildThisFileDirectory)admin\Bootstrap.Admin\BootstrapAdmin.db" SkipUnchangedFiles="true" />
    <Copy Condition="'$(OS)' == 'UNIX'" DestinationFolder="$(PublishDir)" SourceFiles="$(MSBuildThisFileDirectory)admin/Bootstrap.Admin/BootstrapAdmin.db" SkipUnchangedFiles="true" />
  </Target>

  <Target Condition=" $(IsWebProject) == true " Name="PostBuild" AfterTargets="PostBuildEvent">
    <Message Text="Copy lic file -> $(TargetDir)" Importance="high" />
    <Copy Condition="'$(OS)' == 'Windows_NT'" DestinationFolder="$(TargetDir)" SourceFiles="$(MSBuildThisFileDirectory)admin\keys\Longbow.lic" SkipUnchangedFiles="true" />
    <Message Text="Copy db file -> $(TargetDir)" Importance="high" />
    <Copy Condition="'$(OS)' == 'UNIX'" DestinationFolder="$(TargetDir)" SourceFiles="$(MSBuildThisFileDirectory)admin/keys/Longbow.lic" SkipUnchangedFiles="true" />
  </Target>

</Project>
