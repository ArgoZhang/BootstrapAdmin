@layout LoginLayout
@page "/Account/Login"

<div class="wrap">
    <div class="container">
        <form method="post" class="form-signin" action="@PostUrl">
            <h2 class="form-signin-heading">@Title</h2>
            <div class="login-wrap">
                @if (UseMobileLogin)
                {
                    <BootstrapInputGroup>
                        <BootstrapInputGroupIcon Icon="fa fa-fw fa-user" />
                        <BootstrapInput TValue="string" type="tel" name="phone" class="digits" maxlength="11" PlaceHolder="手机号码" />
                    </BootstrapInputGroup>
                    <BootstrapInputGroup class="mt-3">
                        <BootstrapInputGroupIcon Icon="fa fa-fw fa-lock" />
                        <BootstrapInput TValue="string" typeof="number" name="code" class="digits" maxlength="4" IsDisabled="true" PlaceHolder="验证码" />
                        <Button class="btn-sms" Text="发送验证码">
                            <Tooltip Title="点击发送验证码" Placement="Placement.Top" />
                        </Button>
                    </BootstrapInputGroup>
                }
                else
                {
                    <BootstrapInputGroup>
                        <BootstrapInputGroupIcon Icon="fa fa-fw fa-user" />
                        <BootstrapInput TValue="string" name="userName" maxlength="16" IsAutoFocus="true" PlaceHolder="用户名" />
                    </BootstrapInputGroup>
                    <BootstrapInputGroup class="mt-3">
                        <BootstrapInputGroupIcon Icon="fa fa-fw fa-lock" />
                        <BootstrapPassword name="password" PlaceHolder="密码" />
                    </BootstrapInputGroup>
                }
                <div class="d-flex justify-content-between mt-3">
                    <Checkbox @bind-Value="RememberPassword" Color="Color.Primary" ShowAfterLabel="true" DisplayText="记住密码自动登录" />
                    <Block Condition="AllowMobile">
                        <SwitchButton @bind-ToggleState="UseMobileLogin" OnClick="OnClickSwitchButton" OffText="短信验证登录" OnText="用户密码登录" />
                    </Block>
                </div>
                <Button class="btn-login mt-3" ButtonType="ButtonType.Submit" Size="Size.Large" IsBlock="true" Color="Color.None" Text="登 录">
                    <Tooltip Placement="Placement.Top" Title="不填写密码默认使用 Gitee 认证" />
                </Button>
                <div class="d-flex justify-content-between mt-3">
                    <LinkButton Text="申请账号" OnClick="OnSignUp" />
                    <LinkButton Text="忘记密码" OnClick="OnForgotPassword" />
                </div>
                <Block Condition="AllowOAuth">
                    <Divider Text="其他方式登录" />
                    <div class="login-list">
                        <LinkButton Url="Account/Gitee" Title="使用 Gitee 帐号登录" ImageUrl="images/gitee.svg" />
                        <LinkButton Url="Account/Gitee" Title="使用 GitHub 帐号登录" ImageUrl="images/git.svg" />
                        <LinkButton Url="#" Title="微信-暂未实现" ImageUrl="images/weixin-2.svg" />
                        <LinkButton Url="Account/Tencent" Title="使用 QQ 账号登录" ImageUrl="images/qq.svg" />
                        <LinkButton Url="Account/Alipay" Title="使用支付宝账号登录" ImageUrl="images/zhifubao.svg" />
                    </div>
                </Block>
            </div>
        </form>
    </div>
</div>