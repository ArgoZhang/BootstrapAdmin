@inherits UsersBase

<EditPage Id="dict" TItem="Bootstrap.DataAccess.User" QueryModel="QueryModel" OnQuery="Query" OnAdd="Add" OnDelete="Delete" OnSave="Save">
    <QueryBody>
        <LgbInputText ColumnClass="col-sm-auto" @bind-Value="@context.UserName" maxlength="50" />
        <LgbInputText ColumnClass="col-sm-auto" @bind-Value="@context.DisplayName" maxlength="50" />
    </QueryBody>
    <TableHeader>
        <LgbTableHeader TItem="string" @bind-Value="@context.UserName"></LgbTableHeader>
        <LgbTableHeader TItem="string" @bind-Value="@context.DisplayName"></LgbTableHeader>
        <LgbTableHeader TItem="DateTime" @bind-Value="@context.RegisterTime"></LgbTableHeader>
        <LgbTableHeader TItem="DateTime?" @bind-Value="@context.ApprovedTime"></LgbTableHeader>
        <LgbTableHeader TItem="string" @bind-Value="@context.ApprovedBy"></LgbTableHeader>
        <LgbTableHeader TItem="string" @bind-Value="@context.Description"></LgbTableHeader>
    </TableHeader>
    <RowTemplate>
        <td>@context.UserName</td>
        <td>@context.DisplayName</td>
        <td>@context.RegisterTime.ToString("yyyy-MM-dd HH:mm:ss")</td>
        <td>@(context.ApprovedTime?.ToString("yyyy-MM-dd HH:mm:ss") ?? "-")</td>
        <td>@context.ApprovedBy</td>
        <td>@context.Description</td>
    </RowTemplate>
    <EditTemplate>
        <div class="row">
            <LgbInputText @bind-Value="@context.UserName" placeholder="不可为空，16字以内" maxlength="16">
                <RequiredValidator />
                <StringLengthValidator Length="16" />
            </LgbInputText>
            <LgbInputText @bind-Value="@context.DisplayName" placeholder="不可为空，20字以内" maxlength="20">
                <RequiredValidator />
                <StringLengthValidator Length="20" />
            </LgbInputText>
            <LgbInputText InputType="password" @bind-Value="@context.Password" autocomplete="off" placeholder="不可为空，16字以内" maxlength="16">
                <RequiredValidator />
                <StringLengthValidator Length="16" />
            </LgbInputText>
            <LgbInputText InputType="password" @bind-Value="@context.NewPassword" autocomplete="off" placeholder="与登录密码一致" maxlength="16">
                <RequiredValidator />
                <StringLengthValidator Length="16" />
                <EqualToValidator @bind-Value="@context.Password" />
            </LgbInputText>
        </div>
    </EditTemplate>
</EditPage>
